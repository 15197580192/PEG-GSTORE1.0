(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d6b91ac"],{"105d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("HST")]),a("p",[t._v("一站式数据库管理平台，帮助您解锁数据的力量")]),a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#5FB878FF"},on:{select:t.handleSelect}},[a("el-menu-item",{staticStyle:{"font-family":"Arial, sans-serif","font-size":"18px","border-radius":"10px"},attrs:{index:"1"}},[t._v("数据库管理")]),a("el-menu-item",{staticStyle:{"font-family":"Arial, sans-serif","font-size":"18px","border-radius":"10px"},attrs:{index:"2"}},[t._v("数据查询")])],1),t.showTable?a("div",{staticClass:"table-container"},[a("div",{staticClass:"left-section"},[a("h2",[t._v("数据库信息")]),a("div",{staticClass:"leftonecard",staticStyle:{"margin-top":"60px"}},[a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"header-container-left",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"nametext-left"},[t._v(t._s("数据库数量"))])]),a("div",{staticClass:"numtext-left"},[t._v(" "+t._s(t.cards.length)+" ")])])],1),a("div",{staticClass:"leftonecard",staticStyle:{"margin-top":"20px"}},[a("el-card",{attrs:{shadow:"always"},nativeOn:{click:function(e){return t.addDatabase(e)}}},[a("div",{staticClass:"header-container-left",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"nametext-left"},[t._v(t._s("增加数据库"))])]),a("div",{staticStyle:{height:"46px",display:"flex","justify-content":"center"}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px",color:"#5FB878FF"}})])])],1)]),t.addVisible?a("add-database",{ref:"addDatabase",on:{refreshDataList:t.getList}}):t._e(),a("div",{staticClass:"right-section"},[a("h2",[t._v("数据库详情")]),a("el-row",{attrs:{gutter:12}},[a("div",{staticClass:"box-card"},t._l(t.cards,(function(e,s){return a("div",{key:s,staticClass:"rightonecard"},[a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"header-container",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"nametext"},[t._v(t._s("数据名称"))]),a("el-button",{staticClass:"trash-icon",staticStyle:{float:"right","font-size":"20px",color:"red"},attrs:{icon:"el-icon-delete",type:"text",plain:""},on:{click:function(a){return t.deleteHandle(e)}}})],1),a("div",{staticClass:"numtext"},[t._v(" "+t._s(e.dbName)+" "),a("div",{staticClass:"in-numtext"})])])],1)})),0)])],1)],1):t._e(),t.QueryTable?a("div",{staticClass:"table-container",staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"left-section-query"},[a("h2",[t._v("数据库查询")]),a("el-card",{staticClass:"top-box"},[a("div",{staticStyle:{display:"flex",margin:"5px 0","justify-content":"space-between"}},[a("el-select",{staticStyle:{width:"70%","margin-right":"1px"},attrs:{placeholder:"选择您想查询的数据库"},model:{value:t.database,callback:function(e){t.database=e},expression:"database"}},t._l(t.cards,(function(t,e){return a("el-option",{key:e,staticStyle:{"text-align":"center"},attrs:{label:t.dbName,value:t.dbName}})})),1),a("el-button",{staticStyle:{width:"30%","background-color":"#5FB878FF","margin-left":"1px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.queryHandle}},[t._v(" 执行查询")])],1),a("div",{staticClass:"input-left-area"},[a("el-input",{staticClass:"center-placeholder",attrs:{type:"textarea",rows:14,placeholder:"请输入查询语句"},model:{value:t.sparql,callback:function(e){t.sparql=e},expression:"sparql"}})],1)])],1),a("div",{staticClass:"right-section-query"},[a("h2",[t._v("查询结果")]),a("el-card",{staticClass:"top-box"},[a("div",{staticClass:"input-right-area"},[a("el-input",{attrs:{type:"textarea",rows:16,placeholder:""},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}})],1)])],1)]):t._e()],1)},i=[],n=(a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新建数据库","close-on-click-modal":!1,visible:t.visible,"before-close":t.closeDialog,width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataForm",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",model:t.dataForm,rules:t.dataRule,"label-width":"160px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmit()}}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"数据库名",prop:"dbname"}},[a("el-input",{attrs:{placeholder:"dbname",clearable:""},model:{value:t.dataForm.dbname,callback:function(e){t.$set(t.dataForm,"dbname",e)},expression:"dataForm.dbname"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"nt文件路径",prop:"dbpath"}},[a("el-input",{attrs:{placeholder:"dbpath",clearable:""},model:{value:t.dataForm.dbpath,callback:function(e){t.$set(t.dataForm,"dbpath",e)},expression:"dataForm.dbpath"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"划分文件路径",prop:"divfilepath"}},[a("el-input",{attrs:{placeholder:"divfilepath",clearable:""},model:{value:t.dataForm.divfilepath,callback:function(e){t.$set(t.dataForm,"divfilepath",e)},expression:"dataForm.divfilepath"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success",disabled:t.loading},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("确认")]),a("el-button",{attrs:{type:"danger",disabled:t.loading},on:{click:t.closeDialog}},[t._v("取消")])],1)],1)}),l=[],r=a("2423"),o={data:function(){return{visible:!1,selectVisible:!1,loading:!1,dataForm:{dbname:"",dbpath:"",divfilepath:""},dataRule:{dbname:[{required:!0,message:"Database Name is not null",trigger:"blur"}],dbpath:[{required:!0,message:"dbpath is not null",trigger:"blur"}],divfilepath:[{required:!0,message:"divfilepath is not null",trigger:"blur"}]}}},components:{},methods:{closeDialog:function(){var t=this;this.dataForm={},this.$nextTick((function(){t.$refs["dataForm"].resetFields()})),this.visible=!1},init:function(){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs["dataForm"].resetFields()}))},dataFormSubmit:function(){var t=this,e={dbname:this.dataForm.dbname,dbpath:this.dataForm.dbpath,divfilepath:this.dataForm.divfilepath};console.log("参数列表",e),this.$refs["dataForm"].validate((function(a){a&&console.log("通过校验"),t.loading=!0,Object(r["a"])(e).then((function(e){console.log(e),"success"===e.status?t.$message({message:"Create Success",type:"success",duration:1500,onClose:function(){t.$refs["dataForm"].resetFields(),t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(e.message)})).finally((function(){t.loading=!1}))}))}}},c=o,d=a("2877"),u=Object(d["a"])(c,n,l,!1,null,null,null),f=u.exports,m=a("b775");function b(t){return Object(m["a"])({url:"/query",method:"get",params:t})}var p={data:function(){return{activeIndex:"1",showTable:!0,QueryTable:!1,databases:[],sparql:"",database:"",result:"",addVisible:!1,restoreVisible:!1,resultLoading:!1,cards:[{dbName:"Movie"},{dbName:"Student"},{dbName:"Gene"},{dbName:"Course"},{dbName:"Course"}]}},components:{AddDatabase:f},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(r["c"])().then((function(e){t.cards=e.dbs,t.total=e.dbs.length})).finally((function(){t.listLoading=!1}))},deleteHandle:function(t){var e=this,a={dbname:t.dbName};this.$confirm("Delete Database, Continue?","提示",{confirmButtonText:"确认删除",cancelButtonText:"取消删除",type:"warning"}).then((function(){Object(r["d"])(a).then((function(t){"success"===t.status&&e.$message({message:t.message,type:"success",duration:1500,onClose:function(){e.getList()}})}))})).catch((function(){e.$message({type:"info",message:"Cancel Delete"})}))},addDatabase:function(){var t=this;this.addVisible=!0,this.$nextTick((function(){t.$refs.addDatabase.init()}))},restoreDatabase:function(){var t=this;this.restoreVisible=!0,this.$nextTick((function(){t.$refs.restoreDatabase.init()}))},handleSelect:function(t,e){"1"===t?(this.showTable=!0,this.QueryTable=!1):"2"===t&&(this.showTable=!1,this.QueryTable=!0)},queryHandle:function(){var t=this,e={sparql:this.sparql,dbname:this.database};console.log("参数列表为"),console.log(e),this.resultLoading=!0,b(e).then((function(e){t.result=e.data})).finally((function(){t.$message({message:"Query Success！",type:"success",duration:1500}),t.resultLoading=!1}))}}},h=p,v=(a("b119"),Object(d["a"])(h,s,i,!1,null,null,null));e["default"]=v.exports},2423:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"g",(function(){return d}));var s=a("b775");function i(t){return Object(s["a"])({url:"/getDBList",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/build",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/deleteDB",method:"get",params:t})}function r(t){return Object(s["a"])({url:"/nodeConfig",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/vue-element-admin/article/pv",method:"get",params:{pv:t}})}function c(t){return Object(s["a"])({url:"/vue-element-admin/article/create",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/vue-element-admin/article/update",method:"post",data:t})}},b119:function(t,e,a){"use strict";a("e1d8")},e1d8:function(t,e,a){}}]);